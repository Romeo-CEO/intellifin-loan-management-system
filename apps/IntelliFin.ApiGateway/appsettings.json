{
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:3000"
    ]
  },
  "Authentication": {
    "LegacyJwt": {
      "Authority": "https://identity.intellifin.local",
      "Audience": "intellifin-api",
      "ValidIssuer": "IntelliFin.Identity",
      "SigningKey": "dev-super-secret-signing-key-change-me-please-1234567890",
      "RequireHttps": false
    },
    "KeycloakJwt": {
      "Authority": "https://keycloak.intellifin.local/realms/IntelliFin",
      "Issuer": "https://keycloak.intellifin.local/realms/IntelliFin",
      "Audience": "api-gateway",
      "RequireHttps": false
    },
    "DualTokenSupport": {
      "Enabled": true,
      "WindowDays": 30,
      "StartUtc": "2025-01-01T00:00:00Z"
    }
  },
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=IntelliFin_LoanManagement;Trusted_Connection=true;MultipleActiveResultSets=true"
  },
  "ReverseProxy": {
    "Routes": {
      "clients": {
        "ClusterId": "clients",
        "Match": {
          "Path": "/api/clients/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/api/clients"
          }
        ]
      },
      "origination": {
        "ClusterId": "origination",
        "Match": {
          "Path": "/api/origination/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/api/origination"
          }
        ]
      },
      "communications": {
        "ClusterId": "communications",
        "Match": {
          "Path": "/api/communications/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/api/communications"
          }
        ]
      },
      "sync": {
        "ClusterId": "sync",
        "Match": {
          "Path": "/api/sync/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/api/sync"
          }
        ]
      },
      "financial": {
        "ClusterId": "financial",
        "Match": {
          "Path": "/api/financial/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/api/financial"
          }
        ]
      },
      "gl": {
        "ClusterId": "financial",
        "Match": {
          "Path": "/api/gl/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": ""
          }
        ]
      },
      "collections": {
        "ClusterId": "financial",
        "Match": {
          "Path": "/api/collections/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": ""
          }
        ]
      },
      "pmec": {
        "ClusterId": "financial",
        "Match": {
          "Path": "/api/pmec/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": ""
          }
        ]
      },
      "payments": {
        "ClusterId": "financial",
        "Match": {
          "Path": "/api/payments/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": ""
          }
        ]
      },
      "admin": {
        "ClusterId": "admin",
        "Match": {
          "Path": "/api/admin/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/api/admin"
          }
        ]
      },
      "identity": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/api/auth/{**catch-all}"
        },
        "Transforms": [
          {
            "PathRemovePrefix": "/api/auth"
          }
        ]
      }
    },
    "Clusters": {
      "clients": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:5224"
          }
        }
      },
      "origination": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:5193"
          }
        }
      },
      "communications": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:5218"
          }
        }
      },
      "sync": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:5214"
          }
        }
      },
      "financial": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:5300"
          }
        }
      },
      "admin": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:5188"
          }
        }
      },
      "identity": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:5001"
          }
        }
      }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ServiceName": "IntelliFin.ApiGateway",
  "ServiceVersion": "1.0.0",
  "Environment": "Development",
  "OpenTelemetry": {
    "OtlpEndpoint": "http://otel-collector:4317"
  }
}
